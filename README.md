### Тестовое задание для Workmate
Это тестовое задание для компании Workmate, просмотр картинок из Flickr.
## Структура приложения

Приложение имеет 4 gradle-модуля: core, screen-gridlist, screen-fullsize, app.

- Модуль screen-gridlist содержит стартовый экран, GridScreen, который открывается через NavHost (startDestination).
<br/>ViewModel в блоке init{} делает запрос через Retrofit и в случае успешного ответа - дает команду на запись 
<br/>списка картинок в базу данных, откуда список поступает в UI через Flow.
<br/>Отображение идёт через LazyVerticalGrid, которая содержит карточки с AsyncImage (пока идёт загрузка - показывается CircularProgressIndicator).

- По нажатию на элемент списка url картинки передаётся в SharedUrlManager, который содержит SharedFlow, после чего идёт переход на экран просмотра картинки через navController.

- Экран просмотра PictureFullSizeScreen находится в модуле screen-fullsize. Его ViewModel получает от SharedUrlManager url картинки, модифицирует его для получения картинки в высоком разрешении
и передаёт его в UI для загрузки.
<br/>При просмотре картинки считываются жесты - pinch-to-zoom и doubleTap.
<br/>По нажатию на крестик в верхнем углу - идёт переход на предыдущий экран через navController.popBackStack()

<br/>Все операции ui<->data выполняются через юзкейсы.

<br/>В дополнение я сделал соответствие цвета системной навигационной панели цветам приложения. 

**ВАЖНО** Есть небольшой момент с очисткой БД. При повторном открытии приложения - api заново выполняет запрос и подгружает дополнительные картинки, вероятно это будет продолжаться до бесконечности, ибо даже если загрузить весь список картинок из flickr (1000 штук) - на следующий день они его поменяют и загрузка пойдет дальше.
<br/>Чтобы избежать переполнения БД и отображать пользователю разные картинки - в MainScreen есть LaunchedEffect с вызовом функции очистки БД, однако он сейчас неактивен (закомментирован). 
<br/>Связано это с тем, что если очищать БД при каждом входе - наблюдается задержка перед отображением UI. Аналогичный метод в DisposableEffect не работает ибо приложение завершает работу
раньше, чем БД успевает очистить таблицу.

## Модификации исходного кода
Помимо создания gradle-модулей и переноса в них кода - инициализация api была перенесена в @Module, а также я уменьшил количество изначально загружаемых картинок со 100 до 50.

## Технологии
Итоговый стек технологий - добавленные изначально и дополненные мной - выглядит так:
- Jetpack Compose + Navigation
- Hilt
- RoomDatabase
- Retrofit2
- Coil
- Accompanist-SystemUI
